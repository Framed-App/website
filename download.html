---
layout: default
title: Download
---

<div id="downloads">Checking latest version...</div>

<script>
	window.addEventListener('load', function() {
		$.getJSON('https://cf-api.framed-app.com/latest-download').done(function (data) {
			if (!data.success) return showError();
			
			showDownload(data.version);

			if (data.branch === 'beta') showBetaWarn(data.version);
		}).fail(function (e) {
			console.log(e);
			showError();
		});
	});

	function showDownload(version) {
		document.getElementById('downloads').innerHTML = `You can download version ${version} <a href="https://github.com/Framed-App/framed/releases/tag/${version}">here</a>.`;
	}

	function showBetaWarn(version) {
		var elem = document.createElement('div');
		elem.className = 'alert alert-warning p-2';
		elem.innerHTML = `There are no stable releases yet. ${version} is a beta release, which may contain bugs and unfinished features.`;

		var downloadsElem = document.getElementById('downloads');
		downloadsElem.append(elem);
	}

	function showError() {
		var elem = document.createElement('div');
		elem.className = 'alert alert-danger p-2';
		elem.innerHTML = 'Failed to get latest version from API. Please find the latest stable release at <a href="https://github.com/Framed-App/framed/releases">https://github.com/Framed-App/framed/releases</a>.';

		var downloadsElem = document.getElementById('downloads');
		downloadsElem.innerText = '';
		downloadsElem.append(elem);
	}
</script>